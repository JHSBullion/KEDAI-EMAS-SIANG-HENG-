<!doctype html><html lang="zh"><head>
<meta charset="utf-8"><title data-i18n="login">登录</title>
<link rel="stylesheet" href="style.css"><script src="lang.js"></script>
<script type="module" src="supabase.js"></script>
</head><body>
<header><h1 data-i18n="login">登录</h1></header>
<main><div class="card">
  <form id="loginForm">
    <label data-i18n="email">邮箱</label>
    <input id="email" type="email" required>
    <label data-i18n="password">密码</label>
    <input id="password" type="password" required>
    <button type="submit" data-i18n="btn_login">登录</button>
  </form>
  <div id="msg" class="msg"></div>
</div></main>
<script type="module">
  import { supabase } from './supabase.js'
  const form = document.getElementById('loginForm'); const msg = document.getElementById('msg')
  form.addEventListener('submit', async (e)=>{
    e.preventDefault(); msg.textContent=''
    const email = document.getElementById('email').value.trim()
    const password = document.getElementById('password').value.trim()
    const { error } = await supabase.auth.signInWithPassword({ email, password })
    if(error){ msg.className='msg err'; msg.textContent = error.message; return }
    window.location.href = 'admin-members.html'
  })
</script>
</body></html>